[
    {
        "owner": {
            "reputation": 11,
            "user_id": 14512906,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/daca2afa7be45bcb0e89361dfef04d10?s=128&d=identicon&r=PG&f=1",
            "display_name": "dwz8",
            "link": "https://stackoverflow.com/users/14512906/dwz8"
        },
        "reply_to_user": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603812391,
        "post_id": 64515982,
        "comment_id": 114152029,
        "content_license": "CC BY-SA 4.0",
        "body": "Sorry, I was not clear enough. I&#39;m not ignoring your suggestion, and I am grateful for your help. I tried your suggestion. Here is what I used (after including the script at the top of the html file): let res = binary(&#39;square.wasm&#39;) .then(wasm =&gt; {   wasmMod({wasm: wasm}).then(MyModule =&gt; {     console.log(&#39;WebAssembly loaded!&#39;);     // Access your functions (if bound by Embind):     console.log(MyModule.square(3));   }); }); This gives me an error: square.html:44 Uncaught (in promise) TypeError: wasmMod(...).then is not a function     at square.html:44 Thanks for your help."
    },
    {
        "owner": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603810949,
        "post_id": 64515982,
        "comment_id": 114151267,
        "content_license": "CC BY-SA 4.0",
        "body": "Why don&#39;t you just try it? Instead of trying to understand 1000 lines of generated JavaScript glue code, just trust the <a href=\"https://emscripten.org/docs/getting_started/FAQ.html#how-can-i-tell-when-the-page-is-fully-loaded-and-it-is-safe-to-call-compiled-functions\" rel=\"nofollow noreferrer\">documentation</a> and do what it says. I can confirm that it works. Use it or lose it. Over and out."
    },
    {
        "owner": {
            "reputation": 11,
            "user_id": 14512906,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/daca2afa7be45bcb0e89361dfef04d10?s=128&d=identicon&r=PG&f=1",
            "display_name": "dwz8",
            "link": "https://stackoverflow.com/users/14512906/dwz8"
        },
        "reply_to_user": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603808640,
        "post_id": 64515982,
        "comment_id": 114150068,
        "content_license": "CC BY-SA 4.0",
        "body": "I added the important part of square.js above.  wasmMod ends with &quot;return {}&quot;. It looks like the EXPORT_NAME is working, looking at the beginning of that file.  So the function exits by returning an empty object, and later the ready function is called from within the instantiate call. Thanks again for looking at this. PS: this is all code generated by emcc without changes except for the function startup, which does nothing."
    },
    {
        "owner": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603802106,
        "post_id": 64515982,
        "comment_id": 114146448,
        "content_license": "CC BY-SA 4.0",
        "body": "In your case <code>wasmMod</code> is the function that will return a Promise. You might also check your quoting on <code>EXPORT_NAME...</code>..."
    },
    {
        "owner": {
            "reputation": 11,
            "user_id": 14512906,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/daca2afa7be45bcb0e89361dfef04d10?s=128&d=identicon&r=PG&f=1",
            "display_name": "dwz8",
            "link": "https://stackoverflow.com/users/14512906/dwz8"
        },
        "reply_to_user": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603801718,
        "post_id": 64515982,
        "comment_id": 114146273,
        "content_license": "CC BY-SA 4.0",
        "body": "Thanks for your reply, @Thomas. Perhaps I&#39;m missing something, but I can&#39;t see a promise being returned. Here is the structure of the js file: var wasmMod= function(wasmMod) {   wasmMod = wasmMod || {}; ...lots of js..    return {} }  I will add the script on the html page in my initial post for you to see how this gets invoked."
    },
    {
        "owner": {
            "reputation": 5217,
            "user_id": 11942268,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/E9Bzv.png?s=128&g=1",
            "display_name": "stackprotector",
            "link": "https://stackoverflow.com/users/11942268/stackprotector"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1603743729,
        "post_id": 64515982,
        "comment_id": 114128117,
        "content_license": "CC BY-SA 4.0",
        "body": "Using the <code>MODULARIZE</code> option, you can access and call your functions like in my answer <a href=\"https://stackoverflow.com/a/63941727/11942268\">here</a>."
    }
]