{
    "tags": [
        "asp.net-mvc",
        "asp.net-core",
        "google-chrome-extension",
        "blazor",
        "blazor-webassembly"
    ],
    "owner": {
        "reputation": 13,
        "user_id": 12491408,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBKtG_g1TVQ5-eyNRv0_pjDegd4XMJQKLp8TvGH=k-s128",
        "display_name": "Junior",
        "link": "https://stackoverflow.com/users/12491408/junior"
    },
    "is_answered": false,
    "view_count": 110,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1616934991,
    "creation_date": 1612269723,
    "question_id": 66009963,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/66009963/how-to-inject-blazor-webassembly-app-extension-ui-in-webpage",
    "title": "How to inject Blazor-WebAssembly-app extension-UI in webpage?",
    "body": "<p>I'm trying to build a chrome-extension with &quot;Blazor-webassembly-app&quot;. It works fine when it is on browser action button. The thing is when it is on browser action it loads index.html file and in that file there is a tag <code>&lt;app&gt;Loading for calling the APP.razor content...&lt;/app&gt;</code> So when index.html file runs it calls app-tag which then calls app.razor page's content then app.razor page calls mainLayout.razor page's contents and other razor pages' contents. This is all working perfectly while handling through browser action button. The pictures I have attached below.</p>\n<p><a href=\"https://i.stack.imgur.com/3v5Rn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/mgOpN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>Now what I'm trying to is</strong> injecting that whole extension UI into my webpage for example in google webpage.</p>\n<p><em><strong>This is my manifest.json code:</strong></em></p>\n<pre><code>{\n  &quot;manifest_version&quot;: 2,\n  &quot;name&quot;: &quot;WebAssembly C#&quot;,\n  &quot;version&quot;: &quot;1.0&quot;,\n  &quot;description&quot;: &quot;.NET inside a chrome extension&quot;,\n  &quot;permissions&quot;: [\n    &quot;activeTab&quot;,\n    &quot;declarativeContent&quot;,\n    &quot;storage&quot;\n  ],\n  &quot;background&quot;: {\n    &quot;scripts&quot;: [\n      // &quot;js/background.js&quot;,\n      &quot;js/jquery-3.5.1.min.js&quot;,\n      &quot;js/site.js&quot;\n      //&quot;framework/wasm/dotnet.3.2.0&quot;,\n      //&quot;framework/wasm/dotnet.timezones.dat&quot;,\n      //&quot;framework/wasm/dotnet.wasm&quot;\n      //&quot;framework/blazor.webassembly.js&quot;\n    ],\n    &quot;persistent&quot;: true\n  },\n  &quot;browser_action&quot;: {\n    &quot;default_popup&quot;: &quot;index.html&quot;\n  },\n  &quot;content_scripts&quot;: [\n    {\n      &quot;css&quot;: [\n        &quot;css/bootstrap/bootstrap.min.css&quot;,\n        &quot;css/open-iconic/font/css/open-iconic-bootstrap.min.css&quot;,\n        &quot;css/app.css&quot;,\n        &quot;css/StyleSheet.css&quot;\n      ],\n      &quot;matches&quot;: [\n        &quot;https://www.google.ae/*&quot;,\n        &quot;https://www.google.am/*&quot;,\n        &quot;https://www.google.as/*&quot;,\n        &quot;https://www.google.at/*&quot;,\n        &quot;https://www.google.az/*&quot;,\n        &quot;https://www.google.ba/*&quot;,\n        &quot;https://www.google.be/*&quot;,\n        &quot;https://www.google.bg/*&quot;,\n        &quot;https://www.google.bi/*&quot;,\n        &quot;https://www.google.bs/*&quot;,\n        &quot;https://www.google.ca/*&quot;,\n        &quot;https://www.google.cd/*&quot;,\n        &quot;https://www.google.cg/*&quot;,\n        &quot;https://www.google.ch/*&quot;,\n        &quot;https://www.google.ci/*&quot;,\n        &quot;https://www.google.cl/*&quot;,\n        &quot;https://www.google.co.bw/*&quot;,\n        &quot;https://www.google.co.ck/*&quot;,\n        &quot;https://www.google.co.cr/*&quot;,\n        &quot;https://www.google.co.hu/*&quot;,\n        &quot;https://www.google.co.id/*&quot;,\n        &quot;https://www.google.co.il/*&quot;,\n        &quot;https://www.google.co.im/*&quot;,\n        &quot;https://www.google.co.in/*&quot;,\n        &quot;https://www.google.co.je/*&quot;,\n        &quot;https://www.google.co.jp/*&quot;,\n        &quot;https://www.google.co.ke/*&quot;,\n        &quot;https://www.google.co.kr/*&quot;,\n        &quot;https://www.google.co.ls/*&quot;,\n        &quot;https://www.google.co.ma/*&quot;,\n        &quot;https://www.google.co.nz/*&quot;,\n        &quot;https://www.google.co.th/*&quot;,\n        &quot;https://www.google.co.ug/*&quot;,\n        &quot;https://www.google.co.uk/*&quot;,\n        &quot;https://www.google.co.uz/*&quot;,\n        &quot;https://www.google.co.ve/*&quot;,\n        &quot;https://www.google.co.vi/*&quot;,\n        &quot;https://www.google.co.za/*&quot;,\n        &quot;https://www.google.co.zm/*&quot;,\n        &quot;https://www.google.com.af/*&quot;,\n        &quot;https://www.google.com.ag/*&quot;,\n        &quot;https://www.google.com.ar/*&quot;,\n        &quot;https://www.google.com.au/*&quot;,\n        &quot;https://www.google.com.bd/*&quot;,\n        &quot;https://www.google.com.bo/*&quot;,\n        &quot;https://www.google.com.br/*&quot;,\n        &quot;https://www.google.com.bz/*&quot;,\n        &quot;https://www.google.com.co/*&quot;,\n        &quot;https://www.google.com.cu/*&quot;,\n        &quot;https://www.google.com.do/*&quot;,\n        &quot;https://www.google.com.ec/*&quot;,\n        &quot;https://www.google.com.eg/*&quot;,\n        &quot;https://www.google.com.et/*&quot;,\n        &quot;https://www.google.com.fj/*&quot;,\n        &quot;https://www.google.com.gi/*&quot;,\n        &quot;https://www.google.com.gt/*&quot;,\n        &quot;https://www.google.com.hk/*&quot;,\n        &quot;https://www.google.com.jm/*&quot;,\n        &quot;https://www.google.com.kw/*&quot;,\n        &quot;https://www.google.com.ly/*&quot;,\n        &quot;https://www.google.com.mt/*&quot;,\n        &quot;https://www.google.com.mx/*&quot;,\n        &quot;https://www.google.com.my/*&quot;,\n        &quot;https://www.google.com.na/*&quot;,\n        &quot;https://www.google.com.nf/*&quot;,\n        &quot;https://www.google.com.ni/*&quot;,\n        &quot;https://www.google.com.np/*&quot;,\n        &quot;https://www.google.com.om/*&quot;,\n        &quot;https://www.google.com.pa/*&quot;,\n        &quot;https://www.google.com.pe/*&quot;,\n        &quot;https://www.google.com.ph/*&quot;,\n        &quot;https://www.google.com.pk/*&quot;,\n        &quot;https://www.google.com.pr/*&quot;,\n        &quot;https://www.google.com.py/*&quot;,\n        &quot;https://www.google.com.qa/*&quot;,\n        &quot;https://www.google.com.sa/*&quot;,\n        &quot;https://www.google.com.sb/*&quot;,\n        &quot;https://www.google.com.sg/*&quot;,\n        &quot;https://www.google.com.sv/*&quot;,\n        &quot;https://www.google.com.tj/*&quot;,\n        &quot;https://www.google.com.tr/*&quot;,\n        &quot;https://www.google.com.tw/*&quot;,\n        &quot;https://www.google.com.ua/*&quot;,\n        &quot;https://www.google.com.uy/*&quot;,\n        &quot;https://www.google.com.uz/*&quot;,\n        &quot;https://www.google.com.vc/*&quot;,\n        &quot;https://www.google.com.vn/*&quot;,\n        &quot;https://www.google.com/*&quot;,\n        &quot;https://www.google.cz/*&quot;,\n        &quot;https://www.google.de/*&quot;,\n        &quot;https://www.google.dj/*&quot;,\n        &quot;https://www.google.dk/*&quot;,\n        &quot;https://www.google.dm/*&quot;,\n        &quot;https://www.google.ee/*&quot;,\n        &quot;https://www.google.es/*&quot;,\n        &quot;https://www.google.fi/*&quot;,\n        &quot;https://www.google.fm/*&quot;,\n        &quot;https://www.google.fr/*&quot;,\n        &quot;https://www.google.gg/*&quot;,\n        &quot;https://www.google.gl/*&quot;,\n        &quot;https://www.google.gm/*&quot;,\n        &quot;https://www.google.gr/*&quot;,\n        &quot;https://www.google.hn/*&quot;,\n        &quot;https://www.google.hr/*&quot;,\n        &quot;https://www.google.ht/*&quot;,\n        &quot;https://www.google.hu/*&quot;,\n        &quot;https://www.google.ie/*&quot;,\n        &quot;https://www.google.is/*&quot;,\n        &quot;https://www.google.it/*&quot;,\n        &quot;https://www.google.jo/*&quot;,\n        &quot;https://www.google.kg/*&quot;,\n        &quot;https://www.google.kz/*&quot;,\n        &quot;https://www.google.li/*&quot;,\n        &quot;https://www.google.lk/*&quot;,\n        &quot;https://www.google.lt/*&quot;,\n        &quot;https://www.google.lu/*&quot;,\n        &quot;https://www.google.lv/*&quot;,\n        &quot;https://www.google.md/*&quot;,\n        &quot;https://www.google.mn/*&quot;,\n        &quot;https://www.google.ms/*&quot;,\n        &quot;https://www.google.mu/*&quot;,\n        &quot;https://www.google.mw/*&quot;,\n        &quot;https://www.google.net/*&quot;,\n        &quot;https://www.google.nl/*&quot;,\n        &quot;https://www.google.no/*&quot;,\n        &quot;https://www.google.nr/*&quot;,\n        &quot;https://www.google.nu/*&quot;,\n        &quot;https://www.google.off.ai/*&quot;,\n        &quot;https://www.google.org/*&quot;,\n        &quot;https://www.google.pl/*&quot;,\n        &quot;https://www.google.pn/*&quot;,\n        &quot;https://www.google.pt/*&quot;,\n        &quot;https://www.google.ro/*&quot;,\n        &quot;https://www.google.ru/*&quot;,\n        &quot;https://www.google.rw/*&quot;,\n        &quot;https://www.google.sc/*&quot;,\n        &quot;https://www.google.se/*&quot;,\n        &quot;https://www.google.sh/*&quot;,\n        &quot;https://www.google.si/*&quot;,\n        &quot;https://www.google.sk/*&quot;,\n        &quot;https://www.google.sm/*&quot;,\n        &quot;https://www.google.sn/*&quot;,\n        &quot;https://www.google.tm/*&quot;,\n        &quot;https://www.google.to/*&quot;,\n        &quot;https://www.google.tp/*&quot;,\n        &quot;https://www.google.tt/*&quot;,\n        &quot;https://www.google.tv/*&quot;,\n        &quot;https://www.google.uz/*&quot;,\n        &quot;https://www.google.vg/*&quot;,\n        &quot;https://www.google.vu/*&quot;,\n        &quot;https://www.google.ws/*&quot;\n        //&quot;https://www.facebook.com/&quot;\n      ],\n      &quot;run_at&quot;: &quot;document_end&quot;,\n      &quot;js&quot;: [\n        &quot;js/jquery-3.5.1.min.js&quot;,\n        &quot;js/init.js&quot;,\n        &quot;js/site.js&quot;\n      ]\n    }\n  ],\n  &quot;icons&quot;: { &quot;128&quot;: &quot;webassembly.png&quot; },\n  &quot;web_accessible_resources&quot;: [\n    &quot;index.html&quot;,\n    &quot;js/init.js&quot;,\n    &quot;js/site.js&quot;,\n    &quot;framework/wasm/dotnet.3.2.0&quot;,\n    &quot;framework/wasm/dotnet.timezones.dat&quot;,\n    &quot;framework/wasm/dotnet.wasm&quot;,\n    &quot;css/open-iconic/font/fonts/open-iconic.svg&quot;,\n    &quot;css/open-iconic/font/fonts/open-iconic.ttf&quot;\n  ],\n  &quot;content_security_policy&quot;: &quot;script-src 'self' 'unsafe-eval' 'sha256-v8v3RKRPmN4odZ1CWM5gw80QKPCCWMcpNeOmimNL2AA='; object-src 'self'&quot;\n}\n</code></pre>\n<p>I load my background_scripts file &quot;Init.js&quot; in this file code</p>\n<pre><code>(function () {\n    //alert(&quot;Hello from Init.js i.e; content_script&quot;).\n    $.get(chrome.runtime.getURL('index.html'), function (data) {\n        debugger\n        $(data).appendTo('#rhs').\n    }).\n})().\n</code></pre>\n<p>I'm getting a content of index.html file. you can see it in picture below.</p>\n<p><a href=\"https://i.stack.imgur.com/bNadc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is code and content of index.html file:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n    &lt;title&gt;WebAssemblyBlazorChromeExtension&lt;/title&gt;\n    &lt;base href=&quot;/&quot; /&gt;\n    &lt;link href=&quot;css/bootstrap/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;\n    &lt;link href=&quot;css/app.css&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;app&gt;Loading for calling the APP.razor content...&lt;/app&gt;\n    &lt;div id=&quot;blazor-error-ui&quot;&gt;\n        An unhandled error has occurred.\n        &lt;a href=&quot;&quot; class=&quot;reload&quot;&gt;Reload&lt;/a&gt;\n        &lt;a class=&quot;dismiss&quot;&gt;\ud83d\uddd9&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;script src=&quot;js/jquery-3.5.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;framework/blazor.webassembly.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;js/site.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>which then have the <strong>app-tag</strong> which will call the <strong>app.razor</strong> page's content. you can see it in app.razor file code:</p>\n<pre><code>&lt;Router AppAssembly=&quot;@typeof(Program).Assembly&quot;&gt;\n    &lt;Found Context=&quot;routeData&quot;&gt;\n        &lt;p&gt;You found the routeData.&lt;/p&gt;\n        &lt;RouteView RouteData=&quot;@routeData&quot; DefaultLayout=&quot;@typeof(MainLayout)&quot; /&gt;\n    &lt;/Found&gt;\n    &lt;NotFound&gt;\n        &lt;LayoutView Layout=&quot;@typeof(MainLayout)&quot;&gt;\n            &lt;p&gt;Sorry, there's nothing at this address.&lt;/p&gt;\n        &lt;/LayoutView&gt;\n    &lt;/NotFound&gt;\n&lt;/Router&gt;\n</code></pre>\n<p>but instead of calling app.razor page content application do nothing it stops after displaying <strong>index.html page's content</strong> .\nI don't even know if app.razor page found the route or notFound the route.Bboth found and notFound contents are not displaying anything.\nI'm attaching my errors screen shots here.</p>\n<p><a href=\"https://i.stack.imgur.com/G9RcK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/5pmCa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope, I explained my problem clearly and sorry if I use bad grammar. I'm happy to share my extension file you can then run it on your browser to check what am I doing wrong .\nI'm actually new to Blazor-extension extension.</p>\n"
}